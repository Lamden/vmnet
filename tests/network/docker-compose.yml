networks:
  vmnet:
    driver: bridge
    ipam:
      config:
      - gateway: 172.29.5.253
        ip-range: 172.29.5.0/24
        subnet: 172.29.0.0/16
services:
  node_1:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_1
    environment:
    - HOSTNAME=node_1
    - HOST_IP=172.29.5.1
    - SLOT_NUM=0
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.1
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_10:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_10
    environment:
    - HOSTNAME=node_10
    - HOST_IP=172.29.5.10
    - SLOT_NUM=9
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.10
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_11:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_11
    environment:
    - HOSTNAME=node_11
    - HOST_IP=172.29.5.11
    - SLOT_NUM=10
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.11
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_12:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_12
    environment:
    - HOSTNAME=node_12
    - HOST_IP=172.29.5.12
    - SLOT_NUM=11
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.12
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_2:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_2
    environment:
    - HOSTNAME=node_2
    - HOST_IP=172.29.5.2
    - SLOT_NUM=1
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.2
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_3:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_3
    environment:
    - HOSTNAME=node_3
    - HOST_IP=172.29.5.3
    - SLOT_NUM=2
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.3
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_4:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_4
    environment:
    - HOSTNAME=node_4
    - HOST_IP=172.29.5.4
    - SLOT_NUM=3
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.4
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_5:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_5
    environment:
    - HOSTNAME=node_5
    - HOST_IP=172.29.5.5
    - SLOT_NUM=4
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.5
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_6:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_6
    environment:
    - HOSTNAME=node_6
    - HOST_IP=172.29.5.6
    - SLOT_NUM=5
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.6
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_7:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_7
    environment:
    - HOSTNAME=node_7
    - HOST_IP=172.29.5.7
    - SLOT_NUM=6
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.7
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_8:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_8
    environment:
    - HOSTNAME=node_8
    - HOST_IP=172.29.5.8
    - SLOT_NUM=7
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.8
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
  node_9:
    build:
      context: ${LOCAL_PATH}/vmnet
      dockerfile: ${DOCKER_DIR}/kademlia_base
    container_name: node_9
    environment:
    - HOSTNAME=node_9
    - HOST_IP=172.29.5.9
    - SLOT_NUM=8
    - NODE=172.29.5.1,172.29.5.2,172.29.5.3,172.29.5.4,172.29.5.5,172.29.5.6,172.29.5.7,172.29.5.8,172.29.5.9,172.29.5.10,172.29.5.11,172.29.5.12
    - TEST_NAME=test_dht
    image: kademlia_base
    networks:
      vmnet:
        ipv4_address: 172.29.5.9
    stdin_open: true
    tty: true
    volumes:
    - source: ${LOCAL_PATH}/vmnet
      target: /app/
      type: bind
version: '2.3'
